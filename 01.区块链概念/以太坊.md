# 以太坊

[TOC]

## 1. 智能合约大小大约可以多大？

在以太坊虚拟机（EVM）中，智能合约的大小限制为24,576字节（24KB），由以太坊协议规定。EIP-170规定了此限制，以保证网络性能与安全。

这个限制在以太坊改进提案 EIP-170 中进行了规范，这是由于某些极端情况下的安全和资源考虑。实际部署过程中，合约大小应在编写和部署时加以关注，以避免超出这个限制。

**EIP-3860改进提案**

EIP-3860 是一个提议引入字节码长度的 Gas 上限的以太坊改进提案。其主要目标是为创建过长字节码的操作增加额外的 Gas 成本，从而限制超长合约的负面影响。下面是该提案的关键点：

**背景与动机**

在以太坊智能合约中，`initcode` 是部署合约时发送到 EVM 的字节码。超长的 `initcode` 会给网络带来负担，尤其是在处理 Gas 费用方面。通过对 `initcode` 长度引入额外的 Gas 成本，EIP-3860 旨在减少恶意或非故意的超长字节码对网络的潜在影响。

**提案内容**

具体来说，EIP-3860提案要求在部署时根据字节码长度增加 Gas 成本，避免网络因处理过长的字节码而遭受负担。这种机制类似于其他 Gas 成本优化提案，旨在激励开发者编写更简洁的合约代码。

**影响与意义**

EIP-3860 通过引入字节码长度相关的 Gas 成本，鼓励开发者优化合约的字节码，从而减少部署超大合约的频率。这不仅可以缓解网络压力，还可以提高合约执行的效率和安全性。

虽然该提案不会直接改变合约的大小限制（24 KB），但会影响开发者在编写和部署合约时的成本考量。



## 2. 简要说明 ERC721 和 ERC 1155 的区别

ERC721和ERC1155都是以太坊上的智能合约标准，用于定义不同类型的数字资产和代币。ERC721标准最初用于定义不可替代代币（Non-Fungible Token，NFT），而ERC1155标准则用于定义可替代和不可替代代币。

ERC721代币是唯一的、不可替代的，每个代币都有其自己的标识符和属性，这使得它们适用于代表数字艺术品、游戏道具等非可替代物品。例如，如果您在以太坊上购买了一张NFT数字艺术品，那么只有您才能拥有这个唯一的代币。

ERC1155代币则是可替代和不可替代的，一个ERC1155代币可以代表一组相同的数字资产，这些资产可以被分割和组合。这使得它们适用于游戏中的道具、虚拟货币等可替代物品。

ERC1155标准与ERC721标准最大的区别是，一个ERC1155合约可以定义多个代币，而ERC721合约只能定义一个。此外，ERC1155代币可以被批量转移，而ERC721代币只能单独转移。

另外，ERC-1159是一种新的标准提案，旨在解决以太坊上代币发行和交易的问题。该标准结合了ERC20和ERC721的优点，可以在同一合约中定义可替代和不可替代的代币，同时还支持代币发行和销毁的燃烧机制。此外，ERC-1159还可以提高代币发行的效率，减少网络拥堵，降低代币交易的成本。



## 3. 简要说明 ERC 1559 作用

ERC-1559是以太坊的一项改进提案，旨在改善以太坊的交易费用机制。当前的以太坊交易费用是由矿工根据交易的竞争情况自由决定的，这可能导致高昂的费用和交易延迟。

ERC-1559提出了一种基于区块空间占用和市场需求的新交易费用机制，其中包括以下要点：

- 每个区块包含的交易数量将被限制在一个预定义的容量范围内，这将导致交易费用的波动性减少。
- 交易费用将由一个算法自动计算，以确保快速确认的交易能够获得更高的优先级。
- 一部分交易费用将被销毁，而不是支付给矿工，这将有助于减少以太坊的通货膨胀。
- 这些改进有望提高以太坊的交易效率，降低交易费用，并减少以太坊的通货膨胀。